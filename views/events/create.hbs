

<section id="event-create" >
  <h1 class="mt-3">Start a new group!</h1>
  <form action="/events/create" method="POST" enctype="multipart/form-data" id="categories-form">
    <div class="form-group">
      <label for="name">What will your group's name be?</label>
      <input type="text" class="form-control" id="name" name="name" value="{{event.name}}">
      {{#if errors.messages.name }} <div class="invalid-feedback d-block">{{ errors.messages.name }}</div> {{/if }}
    </div>
      <div class="form-group">
      <label for="start">Start date & time:</label>
      <input type="datetime-local" class="form-control" id="start" name="start" value="{{event.start}}">
      {{#if errors.date }} <div class="invalid-feedback d-block">{{ errors.date }}</div> {{/if }}
    </div>
    <div class="form-group">
      <label for="end">End date & time:</label>
      <input type="datetime-local" class="form-control" id="end" name="end" value="{{event.end}}">
      {{#if errors.date }} <div class="invalid-feedback d-block">{{ errors.date }}</div> {{/if }}
    </div>
    <div class="form-group">
      <label for="description">What your group will do?</label>
      <textarea class="form-control" id="description" name="description">{{event.description}}</textarea>
      {{#if errors.messages.description }} <div class="invalid-feedback d-block">{{ errors.messages.description }}</div> {{/if }}
    </div>
    <div class="form-group">
      <label for="max-users">How many people can go to the event?</label>
      <input type="number" class="form-control" id="max-users" name="maxUsers" value="{{event.maxUsers}}">
      {{#if errors.messages.maxUsers }} <div class="invalid-feedback d-block">{{ errors.messages.maxUsers }}</div> {{/if }}
    </div>
    <div class="form-group">
      <label for="pic">Add a picture:</label>
      <input type="file" class="form-control" id="pic" name="picture">
    </div>

    <div class="form-group">
      <label for="direction">What's your new group's hometown?</label>
      <input id="pac-input" class="form-control" type="text" placeholder="Add the location" name="direction" value="{{event.direction}}">
      {{#if errors.location }} <div class="invalid-feedback d-block">{{ errors.location }}</div> {{/if }}
      <div id="map"></div>
    </div>
  
    <input type="text" value="{{event.longitude}}" id="longitude" class="hidden" name="longitude"/>
    <input type="text" value="{{event.latitude}}" id="latitude" class="hidden" name="latitude"/>

    <div class="form-group">
      <label for="direction">What will your event be about? Select 1 or more topics:</label>
      {{#if errors.interests }} <div class="invalid-feedback d-block">{{ errors.interests }}</div> {{/if }}
      {{> topics }}
    </div>


    <button type="submit" class="btn btn-primary">Done!</button>
  </form>
  
  {{#if event.longitude}}
    {{#if event.latitude}}
    <script>
      var decodedJson = decodeURIComponent("{{{eventCoordinates}}}");
      window.eventPoint = JSON.parse(decodedJson);
    </script>
    {{/if}}
  {{/if}}


</section>